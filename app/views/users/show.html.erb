<%= render partial: "user", locals: {user: @user} %>

<!-- not sure if the following logic should be here or back in the controller -->
<% if logged_in? && current_user.id != @user.id && current_user.challenged.include?(@user) == false %>

  <%= form_for(current_user.active_relationships.build) do |f| %>
  <div><% hidden_field_tag :challenged_id, @user.id %></div>
  <%= f.submit "Challenge", class: "btn btn-primary" %>

  <% end %>

<% end %>

<% if logged_in? && current_user.id != @user.id && current_user.challenged.include?(@user) == true %>
    <%= form_for(current_user.active_relationships.find_by(challenged_id: @user.id),
               html: { method: :delete }) do |f| %>
    <%= f.submit "Rescind Challenge", class: "btn btn-primary" %>

  <% end %>
<% end %>

<h5>Challengers</h1>
<% @challengers.each do |challenger| %>
  <p>
    <%= challenger.challenger.username %>
  </p>

<% end %>


<h5>Challenged Fighters</h1>
<% @challenged.each do |challenged| %>
  <p>
    <%= challenged.challenged.username %>
  </p>

<% end %>


